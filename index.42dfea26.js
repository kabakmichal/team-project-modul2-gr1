const e=document.querySelector(".search-form__btn"),a=document.querySelector(".search-form__input");const t=async()=>{const e=await fetch("https://api.themoviedb.org/3/movie/popular?api_key=32592fc1c467ab313147df8555d6672d&page=1"),a=await e.json();return console.log(a),a};t();e.addEventListener("click",(async e=>{e.preventDefault();const t=a.value.trim();console.log(t);try{const e=await(async e=>{const a=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=32592fc1c467ab313147df8555d6672d&query=${e}&page=1`);return await a.json()})(t),a=[];e.results.forEach((async e=>{a.push(e)}));const n=await e.total_results;console.log(`Total results: ${n}`),a.forEach((async e=>{console.log(e)}))}catch(e){console.error(e)}}));const n=document.querySelector(".gallery");let o=e=>{const a=e.map((({poster_path:e,release_date:a,title:t})=>`<div class="movie-card">\n    <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500/${e}" alt="" loading="lazy" />\n    <div class="movie-card__info">\n        <p class="movie-card__title">\n            <span>${t}</span>\n        </p>\n        <p class="movie-card__genre">\n            <span>genre</span>\n        </p>\n        <p class="movie-card__year">\n            <span>${a}</span>\n        </p>\n    </div>\n</div>\n`)).join("");return console.log(a),n.insertAdjacentHTML("beforeend",a)};t().then((e=>(JSON.parse(e),o(e.results)))).catch((e=>console.error(e)));
//# sourceMappingURL=index.42dfea26.js.map
