const e=document.querySelector(".search-form__btn"),n=document.querySelector(".search-form__input"),a=document.querySelector(".gallery"),t=document.querySelector(".pagination_btns");e.addEventListener("click",(async e=>{e.preventDefault();const s=n.value.trim();console.log(s);try{const e=await(async e=>{const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=32592fc1c467ab313147df8555d6672d&query=${e}&page=1&include_adult=false`);return await n.json()})(s);console.log(e);const n=[];e.results.forEach((async e=>{n.push(e)})),(e=>{a.innerHTML="";const n=e.map((({poster_path:e,release_date:n,title:a,genre_ids:t})=>`<div class="movie-card">\n  <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500/${e}" alt="" loading="lazy" />\n  <div class="movie-card__info">\n      <p class="movie-card__title">\n          <span>${a}</span>\n      </p>\n  <div class= "genreDate">\n      <p class="movie-card__genre">\n          <span>${t}</span>\n      </p>\n      <p class="movie-card__year">${n}\n          <span></span>\n      </p>\n  </div>\n  </div>\n</div>\n`)).join("");a.insertAdjacentHTML("beforeend",n)})(n);const o=await e.total_pages,c=await e.total_results;console.log(`Total pages: ${o}`),console.log(`Total results: ${c}`),(async(e,n)=>{if(e>=1)for(let n=1;n<=e;n++){let e=document.createElement("button");e.innerHTML=n,t.appendChild(e)}})(o)}catch(e){console.error(e)}}));const s=document.querySelector(".gallery");let o=e=>{const n=e.map((({poster_path:e,release_date:n,title:a,genre_ids:t})=>`<div class="movie-card">\n    <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500/${e}" alt="" loading="lazy" />\n    <div class="movie-card__info">\n        <p class="movie-card__title">\n            <span>${a}</span>\n        </p>\n    <div class= "genreDate">\n        <p class="movie-card__genre">\n            <span>${t}</span>\n        </p>\n        <p class="movie-card__year">${n}\n            <span></span>\n        </p>\n    </div>\n    </div>\n</div>\n`)).join("");return s.insertAdjacentHTML("beforeend",n)};(async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=32592fc1c467ab313147df8555d6672d&page=1"),n=await e.json();return console.log(n),n})().then((e=>o(e.results))).catch((e=>console.error(e)));
//# sourceMappingURL=index.7ead768d.js.map
