const e=document.querySelector(".search-form__btn"),n=document.querySelector(".search-form__input"),a=document.querySelector(".gallery"),t=document.querySelector(".pagination_btns");const o=async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=32592fc1c467ab313147df8555d6672d&page=1"),n=await e.json();return console.log(n),n};o();e.addEventListener("click",(async e=>{e.preventDefault();const o=n.value.trim();console.log(o);try{const e=await(async e=>{const n=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=32592fc1c467ab313147df8555d6672d&query=${e}&page=1&include_adult=false`);return await n.json()})(o);console.log(e);const n=[];e.results.forEach((async e=>{n.push(e)})),(async e=>{const n=e.map((e=>`<div class="movie-card">\n        <img src='${e.backdrop_path}'/>\n        <div class='info'>\n        <p class="title">\n            <b>Title</b> ${e.original_title}\n        </p>\n        <p class="rate">\n            <b>Rate</b> ${e.vote_average}\n        </p>\n        </div>\n        </div>`)).join("");a.innerHTML=n})(n);const s=await e.total_pages,c=await e.total_results;console.log(`Total pages: ${s}`),console.log(`Total results: ${c}`),(async(e,n)=>{if(e>=1)for(let n=1;n<=e;n++){let e=document.createElement("button");e.innerHTML=n,t.appendChild(e)}})(s)}catch(e){console.error(e)}}));const s=document.querySelector(".gallery");let c=e=>{const n=e.map((({poster_path:e,release_date:n,title:a})=>`<div class="movie-card">\n    <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500/${e}" alt="" loading="lazy" />\n    <div class="movie-card__info">\n        <p class="movie-card__title">\n            <span>${a}</span>\n        </p>\n        <p class="movie-card__genre">\n            <span>genre</span>\n        </p>\n        <p class="movie-card__year">\n            <span>${n}</span>\n        </p>\n    </div>\n</div>\n`)).join("");return console.log(n),s.insertAdjacentHTML("beforeend",n)};o().then((e=>(JSON.parse(e),c(e.results)))).catch((e=>console.error(e)));
//# sourceMappingURL=index.e29f18a9.js.map
