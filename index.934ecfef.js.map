{"mappings":"AAAA,MAAMA,EAAWC,SAASC,cAAc,qBAClCC,EAAaF,SAASC,cAAc,uBACpCE,EAAeH,SAASC,cAAc,YACtCG,EAAiBJ,SAASC,cAAc,oBA2D9CF,EAASM,iBAAiB,SAASC,MAAMC,IACvCA,EAAMC,iBAEN,MAAMC,EAAQP,EAAWQ,MAAMC,OAC/BC,QAAQC,IAAIJ,GAEZ,IACE,MAAMK,OAhDSR,OAAMG,IACvB,MAAMM,QAAiBC,MACrB,4FAA4FP,gCAI9F,aAF6BM,EAASE,QA4ChBC,CAAWT,GAC/BG,QAAQC,IAAIC,GACZ,MAAMK,EAAc,GACpBL,EAAMM,QAAQC,SAAQf,MAAMgB,IAC1BH,EAAYI,KAAKD,MA3CFhB,OAAMkB,IACzB,MAAMC,EAASD,EACZE,KACCJ,GAAS,+CACKA,EAAMK,qGAGCL,EAAMM,mFAGPN,EAAMO,+DAK3BC,KAAK,IAER3B,EAAa4B,UAAYN,GA6BvBO,CAAab,GAEb,MAAMc,QAAmBnB,EAAMoB,YACzBC,QAAoBrB,EAAMsB,cAEhCxB,QAAQC,IAAI,gBAAgBoB,KAC5BrB,QAAQC,IAAI,kBAAkBsB,KAhCf7B,OAAO2B,EAAYxB,KAEpC,GAAIwB,GAAc,EAChB,IAAK,IAAII,EAAI,EAAGA,GAAKJ,EAAYI,IAAK,CACpC,IAAIC,EAAMtC,SAASuC,cAAc,UACjCD,EAAIP,UAAYM,EAEhBjC,EAAeoC,YAAYF,KA2B7BG,CAAWR,GAKX,MAAOS,GACP9B,QAAQ8B,MAAMA,OC1FlB,MAAMC,EAAU3C,SAASC,cAAc,YAEvC,IAAI2C,EAAYC,IACZ,MAAMpB,EAASoB,EACVnB,KAEG,EAACoB,YAACA,EAAWC,aAACA,EAAYtC,MAACA,KAChB,mGACiDqC,6HAGpDrC,wKAMAsC,iDAIhBjB,KAAK,IACL,OAAOa,EAAQK,mBAAmB,YAAYvB,IDX7BnB,WACnB,MAAMS,QAAiBC,MACrB,iGAEI6B,QAAa9B,EAASE,OAE5B,OADAL,QAAQC,IAAIgC,GACLA,GEZT,GACKI,MAAKJ,GACKD,EAASC,EAAKzB,WAExB8B,OAAMC,GAAgBvC,QAAQ8B,MAAMS","sources":["src/js/fetch.js","src/js/movieSet.js","src/index.js"],"sourcesContent":["const inputBtn = document.querySelector('.search-form__btn');\nconst inputTitle = document.querySelector('.search-form__input');\nconst galleryMovie = document.querySelector('.gallery');\nconst paginationBtns = document.querySelector('.pagination_btns');\n\nconst API_KEY = '?api_key=32592fc1c467ab313147df8555d6672d';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst MAIN_PAGE_URL = '/trending/all/day';\n\nlet page = 1;\n\nconst fetchOnStart = async () => {\n  const response = await fetch(\n    `${BASE_URL}${MAIN_PAGE_URL}${API_KEY}&page=${page}`\n  );\n  const data = await response.json();\n  console.log(data);\n  return data;\n};\n\n\nconst fetchInput = async title => {\n  const response = await fetch(\n    `https://api.themoviedb.org/3/search/movie?api_key=32592fc1c467ab313147df8555d6672d&query=${title}&page=${page}&include_adult=false`\n  );\n  const responseObject = await response.json();\n\n  return responseObject;\n};\n\nconst renderMovies = async movies => {\n  const markup = movies\n    .map(\n      movie => `<div class=\"movie-card\">\n        <img src='${movie.backdrop_path}'/>\n        <div class='info'>\n        <p class=\"title\">\n            <b>Title</b> ${movie.original_title}\n        </p>\n        <p class=\"rate\">\n            <b>Rate</b> ${movie.vote_average}\n        </p>\n        </div>\n        </div>`\n    )\n    .join('');\n\n  galleryMovie.innerHTML = markup;\n};\n\nconst pagination = async (totalPages, title) => {\n  // paginationBtns = '';\n  if (totalPages >= 1) {\n    for (let i = 1; i <= totalPages; i++) {\n      let btn = document.createElement('button');\n      btn.innerHTML = i;\n\n      paginationBtns.appendChild(btn);\n    }\n  }\n};\n\ninputBtn.addEventListener('click', async event => {\n  event.preventDefault();\n\n  const title = inputTitle.value.trim();\n  console.log(title);\n\n  try {\n    const array = await fetchInput(title);\n    console.log(array);\n    const arrayMovies = [];\n    array.results.forEach(async movie => {\n      arrayMovies.push(movie);\n    });\n\n    renderMovies(arrayMovies);\n\n    const totalPages = await array.total_pages;\n    const totalMovies = await array.total_results;\n\n    console.log(`Total pages: ${totalPages}`);\n    console.log(`Total results: ${totalMovies}`);\n\n    pagination(totalPages, title);\n\n    // arrayMovies.forEach(async movie => {\n    //   console.log(movie);\n    // });\n  } catch (error) {\n    console.error(error);\n  }\n});\n\n\nexport{fetchOnStart}\n\n","const gallery = document.querySelector('.gallery')\n\nlet movieSet = (data) => {\n    const markup = data\n        .map(\n        //trzeba dodaÄ‡ genre, ale mamy tylko genre_ids(cyfry)\n            ({poster_path,release_date,title}) => {\n                return `<div class=\"movie-card\">\n    <img class=\"movie-card__img\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"\" loading=\"lazy\" />\n    <div class=\"movie-card__info\">\n        <p class=\"movie-card__title\">\n            <span>${title}</span>\n        </p>\n        <p class=\"movie-card__genre\">\n            <span>genre</span>\n        </p>\n        <p class=\"movie-card__year\">\n            <span>${release_date}</span>\n        </p>\n    </div>\n</div>\n`}).join(\"\");\n    return gallery.insertAdjacentHTML('beforeend',markup);\n};\nexport {movieSet}","import './sass/index.scss';\n\nimport { fetchOnStart } from './js/fetch';\nimport {movieSet} from './js/movieSet';\n\nfetchOnStart()\n    .then(data => {\n        return movieSet(data.results)\n    })\n    .catch(err => { return console.error(err)});\n"],"names":["$924b66e829bc1184$var$inputBtn","document","querySelector","$924b66e829bc1184$var$inputTitle","$924b66e829bc1184$var$galleryMovie","$924b66e829bc1184$var$paginationBtns","addEventListener","async","event","preventDefault","title","value","trim","console","log","array","response","fetch","json","$924b66e829bc1184$var$fetchInput","arrayMovies","results","forEach","movie","push","movies","markup","map","backdrop_path","original_title","vote_average","join","innerHTML","$924b66e829bc1184$var$renderMovies","totalPages","total_pages","totalMovies","total_results","i","btn","createElement","appendChild","$924b66e829bc1184$var$pagination","error","$483434e96dfe2a08$var$gallery","$483434e96dfe2a08$export$daf0ce4809c70dc","data","poster_path","release_date","insertAdjacentHTML","then","catch","err"],"version":3,"file":"index.934ecfef.js.map"}