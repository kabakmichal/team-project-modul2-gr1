let e;const a=async()=>(e||(e=await(async()=>{const e=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=32592fc1c467ab313147df8555d6672d&language=en-US"),a=await fetch("https://api.themoviedb.org/3/genre/tv/list?api_key=32592fc1c467ab313147df8555d6672d&language=en-US"),n=await e.json(),t=await a.json();return[...new Map([...n.genres,...t.genres].map((e=>[e.id,e]))).values()]})()),e.reduce(((e,a)=>({...e,[a.id]:a.name})),{})),n=document.querySelector(".input-notification");const t=document.querySelector(".search-form__btn"),s=document.querySelector(".search-form__input"),i=document.querySelector(".gallery"),o=document.querySelector(".pagination_btns");t.addEventListener("click",(async e=>{e.preventDefault();const t=s.value.trim();console.log(t);try{const e=await(async e=>{const a=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=32592fc1c467ab313147df8555d6672d&query=${e}&page=1&include_adult=false`);return await a.json()})(t);console.log(e);const s=[];e.results.forEach((async e=>{s.push(e)})),e.total_results?(n.style.visibility="hidden",n.style.display="none",o.style.visibility="visible",o.style.display="flex"):(n.style.visibility="visible",n.style.display="block",o.style.visibility="hidden",i.innerHTML=""),(async e=>{const n=await a();i.innerHTML="";const t=e.map((({poster_path:e,release_date:a,first_air_date:t,title:s,name:i,genre_ids:o})=>`<div class="movie-card">\n  <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500/${e}" alt="${s||i}" loading="lazy" />\n  <div class="movie-card__info">\n      <p class="movie-card__title">\n          <span>${s||i}</span>\n      </p>\n  <div class= "genreDate">\n      <p class="movie-card__genre">\n          <span>${o.map((e=>n[e])).join(",")}</span>\n      </p>\n      <p class="movie-card__year">${a||t} \n          <span></span>\n      </p>\n  </div>\n  </div>\n</div>\n`)).join("");i.insertAdjacentHTML("beforeend",t)})(s);const c=await e.total_pages,l=await e.total_results;console.log(`Total pages: ${c}`),console.log(`Total results: ${l}`),(async(e,a)=>{if(e>=1)for(let a=1;a<=e;a++){let e=document.createElement("button");e.innerHTML=a,o.appendChild(e)}})(c)}catch(e){console.error(e)}}));const c=document.querySelector(".gallery");let l=async e=>{const n=await a(),t=e.map((({poster_path:e,release_date:a,first_air_date:t,title:s,name:i,genre_ids:o})=>`<div class="movie-card">\n    <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500/${e}" alt="${s||i}" loading="lazy" />\n    <div class="movie-card__info">\n        <p class="movie-card__title">\n            <span>${s||i}</span>\n        </p>\n    <div class= "genreDate">\n        <p class="movie-card__genre">\n            <span>${o.map((e=>n[e])).join(", ")}</span>\n        </p>\n        <p class="movie-card__year">${(a||t).slice(0,4)}\n            <span></span>\n        </p>\n    </div>\n    </div>\n</div>\n`)).join("");return c.insertAdjacentHTML("beforeend",t)};(async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=32592fc1c467ab313147df8555d6672d&page=1"),a=await e.json();return console.log(a),a})().then((e=>l(e.results))).catch((e=>console.error(e)));
//# sourceMappingURL=index.215f3612.js.map
