const e=document.querySelector(".search-form__btn"),a=document.querySelector(".search-form__input"),n=document.querySelector(".gallery"),t=document.querySelector(".pagination_btns");e.addEventListener("click",(async e=>{e.preventDefault();const o=a.value.trim();console.log(o);try{const e=await(async e=>{const a=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=32592fc1c467ab313147df8555d6672d&query=${e}&page=1&include_adult=false`);return await a.json()})(o);console.log(e);const a=[];e.results.forEach((async e=>{a.push(e)})),(async e=>{const a=e.map((e=>`<div class="movie-card">\n        <img src='${e.backdrop_path}'/>\n        <div class='info'>\n        <p class="title">\n            <b>Title</b> ${e.original_title}\n        </p>\n        <p class="rate">\n            <b>Rate</b> ${e.vote_average}\n        </p>\n        </div>\n        </div>`)).join("");n.innerHTML=a})(a);const s=await e.total_pages,c=await e.total_results;console.log(`Total pages: ${s}`),console.log(`Total results: ${c}`),(async(e,a)=>{if(e>=1)for(let a=1;a<=e;a++){let e=document.createElement("button");e.innerHTML=a,t.appendChild(e)}})(s)}catch(e){console.error(e)}}));const o=document.querySelector(".gallery");let s=e=>{const a=e.map((({poster_path:e,release_date:a,title:n})=>`<div class="movie-card">\n    <img class="movie-card__img" src="https://image.tmdb.org/t/p/w500/${e}" alt="" loading="lazy" />\n    <div class="movie-card__info">\n        <p class="movie-card__title">\n            <span>${n}</span>\n        </p>\n        <p class="movie-card__genre">\n            <span>genre</span>\n        </p>\n        <p class="movie-card__year">\n            <span>${a}</span>\n        </p>\n    </div>\n</div>\n`)).join("");return o.insertAdjacentHTML("beforeend",a)};(async()=>{const e=await fetch("https://api.themoviedb.org/3/trending/all/day?api_key=32592fc1c467ab313147df8555d6672d&page=1"),a=await e.json();return console.log(a),a})().then((e=>s(e.results))).catch((e=>console.error(e)));
//# sourceMappingURL=index.934ecfef.js.map
